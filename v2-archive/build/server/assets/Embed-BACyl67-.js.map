{"version":3,"file":"Embed-BACyl67-.js","sources":["../../../app/modules/core/components/base/notion/Embed.tsx"],"sourcesContent":["import Codepen from 'react-codepen-embed';\nimport { GithubGist } from 'react-gistlab';\nimport { Tweet } from 'react-twitter-widgets';\n\nimport { BlockComponentProps, EmbedBlock } from '~/libs/notion';\n\nenum EmbedType {\n  codepen,\n  gist,\n  twitter,\n}\n\ninterface EmbedProps extends BlockComponentProps {\n  block: EmbedBlock;\n}\n\nconst urlTypeMap: Record<string, EmbedType> = {\n  'codepen.io': EmbedType.codepen,\n  'gist.github.com': EmbedType.gist,\n  'twitter.com': EmbedType.twitter,\n};\n\nfunction getType(url: string): EmbedType | null {\n  const urlDomain = Object.keys(urlTypeMap).find((domain) =>\n    url.includes(domain),\n  );\n  return urlDomain ? urlTypeMap[urlDomain] : null;\n}\n\nexport function Embed({ block }: EmbedProps) {\n  if (!block.embed?.url) return null;\n\n  const type: EmbedType | null = getType(block.embed.url);\n  let EmbeddedItem;\n\n  if (type === EmbedType.codepen) {\n    const hash = /pen\\/(.*?)(\\?|$)/.exec(block.embed.url)?.[1];\n    const user = /codepen\\.io\\/(.*?)(\\/pen)/.exec(block.embed.url)?.[1];\n    EmbeddedItem =\n      hash && user ? <Codepen hash={hash} height={500} user={user} /> : null;\n  }\n\n  if (type === EmbedType.gist) {\n    EmbeddedItem = <GithubGist url={block.embed.url} />;\n  }\n\n  if (type === EmbedType.twitter) {\n    const tweetId = /status\\/(.*?)(\\?|$)/.exec(block.embed.url)?.[1];\n    EmbeddedItem = tweetId ? <Tweet tweetId={tweetId} /> : null;\n  }\n\n  return (\n    <div className=\"mt-4 flex justify-center\">\n      <div\n        className={type === EmbedType.twitter ? 'w-full md:w-4/5' : 'w-full'}\n      >\n        {EmbeddedItem}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAgBA,MAAM,aAAwC;AAAA,EAC5C,cAAc;AAAA,EACd,mBAAmB;AAAA,EACnB,eAAe;AAAA;AACjB;AAEA,SAAS,QAAQ,KAA+B;AAC9C,QAAM,YAAY,OAAO,KAAK,UAAU,EAAE;AAAA,IAAK,CAAC,WAC9C,IAAI,SAAS,MAAM;AAAA,EACrB;AACO,SAAA,YAAY,WAAW,SAAS,IAAI;AAC7C;AAEgB,SAAA,MAAM,EAAE,SAAqB;;AAC3C,MAAI,GAAC,WAAM,UAAN,mBAAa,KAAY,QAAA;AAE9B,QAAM,OAAyB,QAAQ,MAAM,MAAM,GAAG;AAClD,MAAA;AAEJ,MAAI,SAAS,GAAmB;AAC9B,UAAM,QAAO,wBAAmB,KAAK,MAAM,MAAM,GAAG,MAAvC,mBAA2C;AACxD,UAAM,QAAO,iCAA4B,KAAK,MAAM,MAAM,GAAG,MAAhD,mBAAoD;AAE/D,mBAAA,QAAQ,OAAQ,oBAAA,SAAA,EAAQ,MAAY,QAAQ,KAAK,MAAY,IAAK;AAAA,EAAA;AAGtE,MAAI,SAAS,GAAgB;AAC3B,mBAAgB,oBAAA,YAAA,EAAW,KAAK,MAAM,MAAM,KAAK;AAAA,EAAA;AAGnD,MAAI,SAAS,GAAmB;AAC9B,UAAM,WAAU,2BAAsB,KAAK,MAAM,MAAM,GAAG,MAA1C,mBAA8C;AAC9D,mBAAe,UAAU,oBAAC,OAAM,EAAA,QAAkB,CAAA,IAAK;AAAA,EAAA;AAIvD,SAAA,oBAAC,OAAI,EAAA,WAAU,4BACb,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,SAAS,IAAoB,oBAAoB;AAAA,MAE3D,UAAA;AAAA,IAAA;AAAA,EAAA,GAEL;AAEJ;"}
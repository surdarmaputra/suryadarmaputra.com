{"version":3,"mappings":"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","names":["hasAnnotation","annotations","color","otherAnnotations","key","TextWithAnnotations","children","href","className","jsx","RichText","block","plainText","getBlockContent","Heading","headingTag","richTexts","React","richTextBlock","index","listTagMap","getListItemRichText","ListItem","List","ListTag","headingBlockTypes","Paragraph","previousBlockType","jsxs","Quote","Code","lazy","__vitePreload","component","Embed","Image","componentMap","BlocksRenderer","blocks","imageBasePath","Fragment","mapKey","Component","_a","BlockComponent","Tag","props","Tags","category","tags","tag"],"ignoreList":[],"sources":["../../../app/modules/core/components/base/notion/RichText.tsx","../../../app/modules/core/components/base/notion/Heading.tsx","../../../app/modules/core/components/base/notion/List.tsx","../../../app/modules/core/components/base/notion/Paragraph.tsx","../../../app/modules/core/components/base/notion/Quote.tsx","../../../app/modules/core/components/base/notion/BlocksRenderer.tsx","../../../app/modules/core/components/base/Tag.tsx"],"sourcesContent":["import { BlockComponentProps, RichTextBlock } from '~/libs/notion';\n\ninterface ParagraphProps extends BlockComponentProps {\n  block: RichTextBlock;\n}\n\ninterface TextWithAnnotationsProps {\n  annotations: RichTextBlock['annotations'];\n  children: React.ReactNode;\n  href: RichTextBlock['href'];\n}\n\nfunction hasAnnotation(annotations: RichTextBlock['annotations']): boolean {\n  // eslint-disable-next-line unused-imports/no-unused-vars, @typescript-eslint/no-unused-vars\n  const { color, ...otherAnnotations } = annotations;\n  return Object.keys(otherAnnotations).some((key) => {\n    const annotationKey = key as keyof RichTextBlock['annotations'];\n    return !!annotations[annotationKey];\n  });\n}\n\nfunction TextWithAnnotations({\n  annotations,\n  children,\n  href,\n}: TextWithAnnotationsProps) {\n  const className = `\n    ${annotations.bold ? 'font-semibold' : ''}\n    ${annotations.italic ? 'italic' : ''}\n    ${annotations.strikethrough ? 'line-through' : ''}\n    ${annotations.underline ? 'underline' : ''}\n  `;\n\n  if (href) {\n    return (\n      <a className={className} href={href} rel=\"noreferrer\" target=\"_blank\">\n        {annotations.code ? <code>{children}</code> : children}\n      </a>\n    );\n  }\n\n  if (annotations.code) {\n    return <code>{children}</code>;\n  }\n\n  return <span className={className}>{children}</span>;\n}\n\nexport function RichText({ block }: ParagraphProps) {\n  const { annotations, plain_text: plainText, href } = block;\n\n  if (!plainText) return null;\n\n  if (href) {\n    return (\n      <a href={href} rel=\"noreferrer\" target=\"_blank\">\n        {plainText}\n      </a>\n    );\n  }\n\n  if (hasAnnotation(annotations)) {\n    return (\n      <TextWithAnnotations annotations={annotations} href={href}>\n        {plainText}\n      </TextWithAnnotations>\n    );\n  }\n\n  return <>{plainText}</>;\n}\n","import React from 'react';\n\nimport type {\n  BlockComponentProps,\n  Heading1Block,\n  Heading2Block,\n  Heading3Block,\n  RichTextBlock,\n} from '~/libs/notion';\n\nimport { RichText } from './RichText';\n\ninterface HeadingProps extends BlockComponentProps {\n  block: Heading1Block | Heading2Block | Heading3Block;\n}\n\nfunction getBlockContent(block: HeadingProps['block']) {\n  switch (block.type) {\n  case 'heading_1':\n    return block.heading_1 as Heading1Block['heading_1'];\n  case 'heading_2':\n    return block.heading_2 as Heading2Block['heading_2'];\n  case 'heading_3':\n    return block.heading_3 as Heading3Block['heading_3'];\n  }\n}\n\nexport function Heading({ block }: HeadingProps) {\n  const level = block.type.replace('heading_', '');\n  const headingTag = `h${level}`;\n  const richTexts = getBlockContent(block).rich_text || [];\n\n  return React.createElement(\n    headingTag,\n    null,\n    richTexts.map((richTextBlock, index) => (\n      <RichText block={richTextBlock as RichTextBlock} key={index} />\n    )),\n  );\n}\n","import React from 'react';\n\nimport type {\n  BlockComponentProps,\n  BulletedListBlock,\n  BulletedListItemBlock,\n  NumberedListBlock,\n  NumberedListItemBlock,\n  RichTextBlock,\n} from '~/libs/notion';\n\nimport { RichText } from './RichText';\n\ninterface ListProps extends BlockComponentProps {\n  block: BulletedListBlock | NumberedListBlock;\n}\n\ninterface ListItemProps {\n  block: BulletedListItemBlock | NumberedListItemBlock;\n  children?: React.ReactNode;\n}\n\nconst listTagMap = {\n  bulleted_list: 'ul',\n  numbered_list: 'ol',\n};\n\nfunction getListItemRichText(block: ListItemProps['block']) {\n  switch (block.type) {\n  case 'bulleted_list_item':\n    return block.bulleted_list_item.rich_text as RichTextBlock[];\n  case 'numbered_list_item':\n    return block.numbered_list_item.rich_text as RichTextBlock[];\n  }\n}\n\nexport function ListItem({ block, children }: ListItemProps) {\n  const richTexts = getListItemRichText(block);\n  return (\n    <li>\n      {richTexts.map((richTextBlock, index) => (\n        <RichText block={richTextBlock as RichTextBlock} key={index} />\n      ))}\n      {children}\n    </li>\n  );\n}\n\nexport function List({ block, children }: ListProps) {\n  const ListTag = listTagMap[block.type];\n\n  return React.createElement(ListTag, null, children);\n}\n","import type {\n  BlockComponentProps,\n  ParagraphBlock,\n  RichTextBlock,\n} from '~/libs/notion';\n\nimport { RichText } from './RichText';\n\ninterface ParagraphProps extends BlockComponentProps {\n  block: ParagraphBlock;\n}\n\nconst headingBlockTypes = ['heading_1', 'heading_2', 'heading_3'];\n\nexport function Paragraph({\n  block,\n  previousBlockType = null,\n  children,\n}: ParagraphProps) {\n  const richTexts = block.paragraph.rich_text;\n\n  if (!richTexts?.length) return null;\n\n  const className =\n    previousBlockType && headingBlockTypes.includes(previousBlockType)\n      ? 'mt-3'\n      : '';\n\n  return (\n    <p className={className}>\n      {richTexts.map((richTextBlock, index) => (\n        <RichText block={richTextBlock as RichTextBlock} key={index} />\n      ))}\n      {children}\n    </p>\n  );\n}\n","import type {\n  BlockComponentProps,\n  QuoteBlock,\n  RichTextBlock,\n} from '~/libs/notion';\n\nimport { RichText } from './RichText';\n\ninterface QuoteProps extends BlockComponentProps {\n  block: QuoteBlock;\n}\n\nexport function Quote({ block, children }: QuoteProps) {\n  const parentRichTexts = block.quote.rich_text;\n  const richTexts = [...parentRichTexts];\n\n  return (\n    <blockquote>\n      {richTexts.map((richTextBlock, index) => (\n        <RichText block={richTextBlock as RichTextBlock} key={index} />\n      ))}\n      {children}\n    </blockquote>\n  );\n}\n","import { lazy } from 'react';\n\nimport type { BlockComponentProps, BlocksRendererProps } from '~/libs/notion';\n\nimport { Heading } from './Heading';\nimport { List, ListItem } from './List';\nimport { Paragraph } from './Paragraph';\nimport { Quote } from './Quote';\n\nconst Code = lazy(() =>\n  import('./Code').then((component) => ({ default: component.Code })),\n);\nconst Embed = lazy(() =>\n  import('./Embed').then((component) => ({ default: component.Embed })),\n);\nconst Image = lazy(() =>\n  import('./Image').then((component) => ({ default: component.Image })),\n);\n\nconst componentMap = {\n  paragraph: Paragraph,\n  heading_1: Heading,\n  heading_2: Heading,\n  heading_3: Heading,\n  code: Code,\n  quote: Quote,\n  bulleted_list: List,\n  bulleted_list_item: ListItem,\n  numbered_list: List,\n  numbered_list_item: ListItem,\n  image: Image,\n  embed: Embed,\n};\n\ntype BlockComponent = (props: BlockComponentProps) => React.ReactElement;\n\nexport function BlocksRenderer({ blocks, imageBasePath }: BlocksRendererProps) {\n  return (\n    <>\n      {blocks.map(({ block, children }, index) => {\n        if (!('type' in block)) return null;\n\n        const mapKey = block.type as keyof typeof componentMap;\n        const Component = componentMap[mapKey];\n        const previousBlockType =\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          index > 0 ? blocks[index - 1].block?.type : null;\n\n        if (!Component) return null;\n        const BlockComponent = Component as BlockComponent;\n\n        return (\n          <BlockComponent\n            basePath={imageBasePath}\n            block={block}\n            key={block.id}\n            previousBlockType={previousBlockType}\n          >\n            {children?.length ? <BlocksRenderer blocks={children} /> : null}\n          </BlockComponent>\n        );\n      })}\n    </>\n  );\n}\n","import React from 'react';\n\nexport function Tag({\n  children,\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) {\n  return (\n    <span\n      className={`mb-2 mr-2 rounded-md bg-slate-200 px-2 py-0.5 text-sm text-slate-700 dark:bg-slate-800 dark:text-slate-400 ${className} `}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n}\n\ninterface TagsProps {\n  category?: string;\n  className?: string;\n  tags?: string[];\n}\n\nexport function Tags({ category, className = '', tags = [] }: TagsProps) {\n  if (!Array.isArray(tags) || !tags.length) return null;\n\n  return (\n    <div className={`flex flex-wrap ${className}`}>\n      {category && <Tag>{category}</Tag>}\n      {tags?.map((tag) => <Tag key={tag as React.Key}>{tag}</Tag>)}\n    </div>\n  );\n}\n"],"file":"assets/Tag-CMoo1dVg.js"}
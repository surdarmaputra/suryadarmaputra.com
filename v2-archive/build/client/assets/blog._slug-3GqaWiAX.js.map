{"version":3,"file":"blog._slug-3GqaWiAX.js","sources":["../../../app/modules/blog/components/PostSwitcher.tsx","../../../app/modules/blog/pages/PostDetailPage.tsx","../../../app/routes/blog.$slug.tsx"],"sourcesContent":["import { SlArrowLeftCircle, SlArrowRightCircle } from 'react-icons/sl';\nimport { Link } from 'react-router';\n\nimport { Post } from '~/modules/blog/types';\n\nexport interface PostSwitcherProps {\n  className?: string;\n  previousPost: Post | null;\n  nextPost: Post | null;\n}\n\nexport interface PostLinkProps {\n  post: Post | null;\n  next?: boolean;\n}\n\nconst maxTitleLength = 32;\n\nfunction formatTitle(title: string): string {\n  return title.length > maxTitleLength\n    ? `${title.slice(0, maxTitleLength)}...`\n    : title;\n}\n\nfunction PostLink({ post, next = false }: PostLinkProps) {\n  const wrapperClassName = `\n    flex gap-3 items-center py-3 px-4 md:mx-2 mb-4 md:mb-0 rounded-full text-slate-400 \n    ${next ? 'flex-row-reverse justify-end text-right' : 'flex-row justify-start text-left'}\n  `;\n\n  if (!post) {\n    return <div className={wrapperClassName} />;\n  }\n\n  return (\n    <Link\n      className={`${wrapperClassName} border border-slate-300 transition hover:border-slate-400 hover:text-slate-500`}\n      prefetch=\"viewport\"\n      title={post.title}\n      to={post.href}\n      viewTransition\n    >\n      {next ? <SlArrowRightCircle /> : <SlArrowLeftCircle />}\n      <div>{formatTitle(post.title)}</div>\n    </Link>\n  );\n}\n\nexport function PostSwitcher({\n  className,\n  previousPost,\n  nextPost,\n}: PostSwitcherProps) {\n  return (\n    <section\n      className={`flex flex-col justify-between md:flex-row ${className}`}\n    >\n      <PostLink post={previousPost} />\n      <PostLink next post={nextPost} />\n    </section>\n  );\n}\n","import '../styles/postDetailPage.css';\n\nimport { BlocksRenderer } from '~/modules/core/components/base/notion/BlocksRenderer';\nimport { PostMetaData } from '~/modules/core/components/base/PostMetaData';\nimport { Tags } from '~/modules/core/components/base/Tag';\n\nimport { PostSwitcher } from '../components/PostSwitcher';\nimport { FullPost, Post } from '../types';\n\nexport interface PostDetailPageProps {\n  post: FullPost;\n  nextPost: Post | null;\n  previousPost: Post | null;\n}\n\nexport default function PostDetailPage({\n  post,\n  nextPost,\n  previousPost,\n}: PostDetailPageProps) {\n  return (\n    <>\n      <PostMetaData\n        className=\"mt-20\"\n        date={post.date}\n        readingTime={post.readingTime}\n      />\n      <h2 className=\"lg:max-w-3xl container mx-auto mb-4 mt-4 text-5xl font-extrabold leading-tight text-slate-900 dark:text-slate-300\">\n        {post.title}\n      </h2>\n      <article className=\"container mx-auto lg:max-w-3xl\">\n        <BlocksRenderer blocks={post.blocks} />\n      </article>\n      <Tags\n        category={post.category}\n        className=\"container mx-auto mb-20 mt-14 md:mt-20 lg:max-w-3xl\"\n        tags={post.tags}\n      />\n      <PostSwitcher\n        className=\"container mx-auto mb-20 lg:max-w-3xl\"\n        nextPost={nextPost}\n        previousPost={previousPost}\n      />\n    </>\n  );\n}\n","import { LoaderFunctionArgs, MetaFunction, redirect , useLoaderData } from 'react-router';\n\nimport PostDetailPage from '~/modules/blog/pages/PostDetailPage';\nimport { getPostDetailAndNavigationBySlug } from '~/modules/blog/services/PostService/getPostDetailAndNavigationBySlug';\n\nexport const meta: MetaFunction<typeof loader> = ({ data }) => {\n  const post = data?.post;\n  if (!post) {\n    return [];\n  }\n  return [\n    { title: `${post.title} - Surya Darma Putra` },\n    { name: 'description', content: post.excerpt },\n    {\n      name: 'keywords',\n      content: [post.category, ...(post?.tags || [])].join(', '),\n    },\n  ];\n};\n\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const { slug } = params;\n  if (!slug) {\n    throw redirect('/blog');\n  }\n\n  const { post, nextPost, previousPost } =\n    await getPostDetailAndNavigationBySlug(slug);\n  if (!post) {\n    throw redirect('/blog');\n  }\n\n  return { post, nextPost, previousPost };\n}\n\nexport default function BlogSlug() {\n  const { post, nextPost, previousPost } = useLoaderData<typeof loader>();\n\n  return (\n    <PostDetailPage\n      nextPost={nextPost}\n      post={post}\n      previousPost={previousPost}\n    />\n  );\n}\n"],"names":["maxTitleLength","formatTitle","title","PostLink","post","next","wrapperClassName","jsxs","Link","jsx","SlArrowRightCircle","SlArrowLeftCircle","PostSwitcher","className","previousPost","nextPost","PostDetailPage","Fragment","PostMetaData","BlocksRenderer","Tags","meta","data","name","content","excerpt","category","tags","join","blog_$slug","_UNSAFE_withComponentProps","useLoaderData"],"mappings":"sRAgBA,MAAMA,EAAiB,GAEvB,SAASC,EAAYC,EAAuB,CACnC,OAAAA,EAAM,OAASF,EAClB,GAAGE,EAAM,MAAM,EAAGF,CAAc,CAAC,MACjCE,CACN,CAEA,SAASC,EAAS,CAAE,KAAAC,EAAM,KAAAC,EAAO,IAAwB,CACvD,MAAMC,EAAmB;AAAA;AAAA,MAErBD,EAAO,0CAA4C,kCAAkC;AAAA,IAGzF,OAAKD,EAKHG,EAAA,KAACC,EAAA,CACC,UAAW,GAAGF,CAAgB,kFAC9B,SAAS,WACT,MAAOF,EAAK,MACZ,GAAIA,EAAK,KACT,eAAc,GAEb,SAAA,CAAAC,EAAQI,EAAA,IAAAC,EAAA,CAAA,CAAmB,EAAKD,EAAA,IAACE,EAAkB,EAAA,EACnDF,EAAA,IAAA,MAAA,CAAK,SAAYR,EAAAG,EAAK,KAAK,CAAE,CAAA,CAAA,CAAA,CAChC,EAbOK,EAAA,IAAC,MAAI,CAAA,UAAWH,CAAkB,CAAA,CAe7C,CAEO,SAASM,EAAa,CAC3B,UAAAC,EACA,aAAAC,EACA,SAAAC,CACF,EAAsB,CAElB,OAAAR,EAAA,KAAC,UAAA,CACC,UAAW,6CAA6CM,CAAS,GAEjE,SAAA,CAACJ,EAAAA,IAAAN,EAAA,CAAS,KAAMW,CAAc,CAAA,EAC7BL,EAAA,IAAAN,EAAA,CAAS,KAAI,GAAC,KAAMY,CAAU,CAAA,CAAA,CAAA,CACjC,CAEJ,CC9CA,SAAwBC,EAAe,CACrC,KAAAZ,EACA,SAAAW,EACA,aAAAD,CACF,EAAwB,CACtB,OAEIP,EAAA,KAAAU,WAAA,CAAA,SAAA,CAAAR,EAAA,IAACS,EAAA,CACC,UAAU,QACV,KAAMd,EAAK,KACX,YAAaA,EAAK,WAAA,CACpB,EACCK,EAAA,IAAA,KAAA,CAAG,UAAU,oHACX,WAAK,MACR,EACAA,EAAAA,IAAC,WAAQ,UAAU,iCACjB,eAACU,EAAe,CAAA,OAAQf,EAAK,MAAA,CAAQ,CACvC,CAAA,EACAK,EAAA,IAACW,EAAA,CACC,SAAUhB,EAAK,SACf,UAAU,sDACV,KAAMA,EAAK,IAAA,CACb,EACAK,EAAA,IAACG,EAAA,CACC,UAAU,uCACV,SAAAG,EACA,aAAAD,CAAA,CAAA,CACF,EACF,CAEJ,CCxCO,MAAMO,EAAoCA,CAAC,CAAEC,KAAAA,CAAK,IAAM,CAC7D,MAAMlB,EAAOkB,GAAAA,YAAAA,EAAMlB,KACnB,OAAKA,EAGE,CACL,CAAEF,MAAO,GAAGE,EAAKF,KAAK,sBAAuB,EAC7C,CAAEqB,KAAM,cAAeC,QAASpB,EAAKqB,OAAQ,EAC7C,CACEF,KAAM,WACNC,QAAS,CAACpB,EAAKsB,SAAU,IAAItB,GAAAA,YAAAA,EAAMuB,OAAQ,CAAG,CAAA,EAAEC,KAAK,IAAI,CAC3D,CAAA,EARO,CAAC,CAUZ,EAiBAC,EAAAC,EAAA,UAAmC,CACjC,KAAM,CAAE1B,KAAAA,EAAMW,SAAAA,EAAUD,aAAAA,GAAiBiB,EAA6B,EAGpE,OAAAtB,EAAAA,IAACO,EAAA,CACCD,SAAAA,EACAX,KAAAA,EACAU,aAAAA,CAAA,CACF,CAEJ,CAAA"}
---
import Badge from "../../core/components/base/badge.astro";
import Button from "../../core/components/base/button.astro";
import Card from "../../core/components/base/card.astro";

interface Props {
  thumbnail?: string;
  title: string;
  description: string;
  learnMoreLink?: string;
  previewLink?: string;
  categories?: string[];
}

const { thumbnail, title, description, learnMoreLink, previewLink, categories } = Astro.props;
---

<Card
  title={title}
  description={description}
  class="hover-lift h-full flex flex-col group/project-card transition-all duration-300"
  bodyClass="flex-grow flex flex-col min-h-0"
  titleClass="font-serif text-2xl"
>
  {thumbnail && (
    <figure slot="header" class="aspect-video overflow-hidden rounded-none">
      <img
        src={thumbnail}
        alt={`${title} thumbnail`}
        class="w-full h-full object-cover transition-transform duration-300 group-hover/project-card:scale-110"
        loading="lazy"
      />
    </figure>
  )}
  {categories && categories.length > 0 && (
    <div slot="after-title" class="mb-3 flex flex-wrap gap-2">
      {categories.map((category, index) => (
        <Badge variant="neutral" style="outline" itemIndex={index} size="sm">
          {category}
        </Badge>
      ))}
    </div>
  )}
  <div slot="actions" class="card-actions justify-end gap-2">
    {previewLink && (
      <Button href={previewLink} target="_blank" variant="outline" size="sm" class="hover-scale">
        Preview
      </Button>
    )}
    {learnMoreLink && (
      <Button href={learnMoreLink} variant="primary" size="sm" class="hover-scale">
        Learn More
      </Button>
    )}
  </div>
</Card>

